<h1 class="text-center">〜みんなの練習記録〜</h1>

<h3>検索<small> ※複数条件や部分一致での検索も可能です。</small></h3>
<div class="search-form">
  <%= form_with(scope: :search, url: index_all_practice_diaries_path, method: :get, local: true) do |f| %>
		<div class="field">
      <%= f.label(:user_name, User.human_attribute_name(:user_name)) %>
      <%= f.text_field :user_name, value: @search_params[:user_name], class: "form-control", placeholder: "ユーザー名を入力してください" %>
    </div>
		
		<div class="field">
      <%= f.label(:practice_title, PracticeDiary.human_attribute_name(:practice_title)) %>
      <%= f.text_field :practice_title, value: @search_params[:practice_title], class: "form-control", placeholder: "タイトルを入力してください" %>
    </div>

		<div class="field">
      <%= f.label(:practice_content, PracticeDiary.human_attribute_name(:practice_content)) %>
      <%= f.text_field :practice_content, value: @search_params[:practice_content], class: "form-control", placeholder: "詳細を入力してください" %>
    </div>

		<div class="form-inline">
			<div class="field">
				<%= f.label(:practice_date, PracticeDiary.human_attribute_name(:practice_date)) %><br>
				<%= f.date_field :practice_date_from, value: @search_params[:practice_date_from], class: "form-control" %> ~ <%= f.date_field :practice_date_to, value: @search_params[:practice_date_to], class: "form-control" %>
			</div>
		</div>
		<div class="actions">
      <br><%= f.submit '検索', class: "btn btn-info" %><%= link_to 'クリア', index_all_practice_diaries_path, class: "btn btn-danger"%>
    </div>
  <% end %>
</div>

<br>
<% @practice_diaries.each do |practice_diary| %>
<div class="panel panel-primary">
	<div class="panel-heading">
		<%= practice_diary.practice_date %>
	</div>
	<div class="panel-body">
			<p><%= User.human_attribute_name(:user_name) %>：<%= link_to practice_diary.user.user_name, user_path(practice_diary.user) %></p>
			<p><%= PracticeDiary.human_attribute_name(:practice_title) %>：<%= practice_diary.practice_title %></p>
			<p><%= PracticeDiary.human_attribute_name(:practice_content) %>：<%= practice_diary.practice_content %></p>
			<p><%= PracticeDiary.human_attribute_name(:practice_distance) %>：<%= practice_diary.practice_distance %>km</p>
			<p><%= PracticeDiary.human_attribute_name(:practice_time) %>：<%= practice_diary.set_practice_time %></p>
			<p><%= link_to '詳細を見る', practice_diary_path(practice_diary) %></p>
			<p>
				<div id="practice_favorites_buttons_<%= practice_diary.id %>">
        <%= render partial: 'practice_favorites/practice_favorite', locals: { practice_diary: practice_diary } %>
    		</div>
			</p>
		</ul>
	</div>
</div>
<% end %>